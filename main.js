(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=n,this._description=o,this._todos=function(t){if(Array.isArray(t))return e(t)}(r=i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r,o;return r=t,(o=[{key:"title",get:function(){return this._title},set:function(t){this._title=t}},{key:"description",get:function(){return this._description},set:function(t){this._description=t}},{key:"pushTodo",value:function(t){this._todos.push(t)}},{key:"getTodoAt",value:function(t){return this._todos[t]}},{key:"removeToDoAt",value:function(t){this._todos.splice(t,1)}}])&&n(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),t}();const o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const a=new Uint8Array(16);function l(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)}const c=[];for(let t=0;t<256;++t)c.push((t+256).toString(16).slice(1));const u=function(t,e,n){if(o.randomUUID&&!e&&!t)return o.randomUUID();const r=(t=t||{}).random||(t.rng||l)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=r[t];return e}return function(t,e=0){return c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]}(r)};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function d(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._project=e,this._deleteFunction=n,this._parentUpdateFunction=r,this._htmlElement=document.createElement("div"),this._updateHTMLElement(),this._addKeyBindings()}var e,n;return e=t,(n=[{key:"project",get:function(){return this._project}},{key:"htmlElement",get:function(){return this._htmlElement}},{key:"_updateHTMLElement",value:function(){var t=this;this.htmlElement.dataset.uuid=u(),this.htmlElement.replaceChildren();var e=this.htmlElement.appendChild(document.createElement("header")),n=e.appendChild(document.createElement("div"));n.classList.add("header-text-container");var r=n.appendChild(document.createElement("h1"));r.textContent=this.project.title,r.dataset.formLabel="Title";var o=n.appendChild(document.createElement("h2"));o.textContent=this.project.description,o.dataset.formLabel="Description";var i=e.appendChild(document.createElement("form"));i.classList.add("header-text-form");var a=e.appendChild(document.createElement("div"));a.classList.add("header-btn-container");var l=a.appendChild(document.createElement("button"));l.type="button",l.innerHTML="<span class='material-symbols-outlined'>edit_square</span>",l.addEventListener("click",(function(){e.classList.toggle("editing"),e.classList.contains("editing")&&(t._updateFormElement(),i.querySelector("input").select())}));var c=a.appendChild(document.createElement("button"));c.type="button",c.innerHTML="<span class='material-symbols-outlined'>delete</span>",null!==this._deleteFunction?c.addEventListener("click",(function(){t._deleteFunction()})):console.warn("No delete function provided for "+this),this.htmlElement.appendChild(document.createElement("todo-container")),null!==this._parentUpdateFunction&&this._parentUpdateFunction()}},{key:"_updateFormElement",value:function(){var t=this,e=this.htmlElement.querySelector(".header-text-form");e.replaceChildren();var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.htmlElement.querySelectorAll("[data-form-label]"));try{for(r.s();!(n=r.n()).done;){var o=n.value,i=e.appendChild(document.createElement("label"));i.textContent=o.dataset.formLabel;var a=e.appendChild(document.createElement("input"));a.id=this.htmlElement.dataset.uuid+"-"+i.textContent.toLowerCase(),i.htmlFor=a.id,a.value=o.textContent}}catch(t){r.e(t)}finally{r.f()}var l=e.appendChild(document.createElement("div"));l.classList.add("form-btn-container");var c=l.appendChild(document.createElement("button"));c.type="button",c.textContent="Save",c.classList.add("form-save-btn"),c.addEventListener("click",(function(){var n,r=function(t){if(Array.isArray(t))return f(t)}(n=e.querySelectorAll("input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||d(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();t.project.title=r[0].value,t.project.description=r[1].value,t._updateHTMLElement()}));var u=l.appendChild(document.createElement("button"));u.type="button",u.textContent="Cancel",u.classList.add("form-cancel-btn"),u.addEventListener("click",(function(){t.htmlElement.querySelector("header").classList.remove("editing")}))}},{key:"_addKeyBindings",value:function(){var t=this;window.addEventListener("keyup",(function(e){if(t.htmlElement.querySelector("header").classList.contains("editing")){var n=t.htmlElement.querySelector(".form-btn-container");"Escape"===e.key?(e.preventDefault(),n.querySelector(".form-cancel-btn").click()):"Enter"===e.key&&(e.preventDefault(),n.querySelector(".form-save-btn").click())}}))}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}new(function(){function t(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._projects=function(t){if(Array.isArray(t))return v(t)}(e=r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this.updateProjectList(),r.length>0&&this.setActiveProject(r[0]),document.getElementById("new-project-btn").addEventListener("click",(function(){var t=n.createProject("Untitled Project","");n.setActiveProject(t)}))}var e,n;return e=t,n=[{key:"projects",get:function(){return this._projects}},{key:"updateProjectList",value:function(){var t=this,e=document.querySelector(".project-list");e.replaceChildren();var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.projects);try{var o=function(){var r=n.value,o=e.appendChild(document.createElement("li")).appendChild(document.createElement("button"));o.type="button",o.textContent=r.title,o.addEventListener("click",(function(){t.setActiveProject(r)}))};for(r.s();!(n=r.n()).done;)o()}catch(t){r.e(t)}finally{r.f()}}},{key:"setActiveProject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=document.querySelector(".project-container");n.replaceChildren(),null!==e&&n.appendChild(new m(e,(function(){t.removeProject(e),t.setActiveProject()}),(function(){t.updateProjectList()})).htmlElement)}},{key:"createProject",value:function(t,e){var n=new r(t,e);return this.projects.push(n),this.updateProjectList(),n}},{key:"removeProject",value:function(t){this.projects.splice(this.projects.indexOf(t),1),this.updateProjectList()}}],n&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}())([new r("New Project","A cool description."),new r("Project B","A cooler description.")])})();